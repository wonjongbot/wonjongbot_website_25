<style>
    @font-face
    {
        font-family: "Web IBM VGA 8x16";
        src: url("/kernel_demo/Web437_IBM_VGA_8x16.woff") format("woff");
    }
    #screen_container
    {
        border: 2px solid #aaa;
        padding: 20px;
        margin: auto;
        width: 840px;
    }

    #emu_text
    {
        white-space: pre;
        font-family: "Web IBM VGA 8x16";
        font-style: normal;
        font-size: 20px;
        line-height: 20px;
    }

    #emu_screen
    {
        display: none;
    }

    #hint_text
    {
        text-align: center;
        line-height: 20px;
    }

    #popup_text
    {
        text-align: center;
        line-height: 20px;
        font-size: 120%;
    }

    #known_issue
    {
        color: red;
    }

    body
    {
        min-width: 880px;
    }
</style>
<script src="/kernel_demo/libv86.js"></script>
<script>
    "use strict";
    window.onload = function()
    {
        var emulator = window.emulator = new V86({
            wasm_path: "/kernel_demo/v86.wasm",
            memory_size: 32 * 1024 * 1024,
            vga_memory_size: 4 * 1024,
            screen_container: document.getElementById("screen_container"),
            bios: {
                url: "/kernel_demo/seabios.bin",
            },
            vga_bios: {
                url: "/kernel_demo/vgabios.bin",
            },
            hda: {
                url: "/kernel_demo/mp3.img",
            },
            autostart: true,
            disable_audio: true,
        });
    }

    /*function popUp()
    {
        popWindow = window.open(
            "./popup.html",
            "popWindow",
            "popup=yes, width=860, height=620, scrollbars=no, resizable=no"
        )
    }*/
</script>
<title>391OS-36 Online Demo</title>
<h2>Online Demo</h2>
<div id="screen_container">
    <div id="emu_text"></div>
    <canvas id="emu_screen"></canvas>
    <p id="hint_text">
        <b>Press Alt+F1/F2/F3 to switch terminal.<br>
        For more combinational keys and technical info, please refer to the <a href="./#technical-overview" target="_blank">Technical Overview</a> page.<br>
        This page is best viewed on a computer. Refresh the page to reset the emulator.<br>
    </p>
    <p style="text-align: center;">
        <em>Online Demo Code thanks to <b>@Paizhang</b> (<a href="https://github.com/paizhangliu/391os36_web/tree/main">391os36_web</a>)</em> <br>
        <em>Font by VileR (<a href="https://int10h.org/oldschool-pc-fonts/readme/#legal_stuff">The Oldschool PC Font Resource</a>)</em> <br><br>
        This demo works best on non-mobile devices
    </p>
    <!-- <p id="popup_text">
        <b><a href="JavaScript:popUp();">Open in a Popup Window</a></b>
    </p> -->
</div>
<!-- <div id="known_issue">
    <h3>Known Issues</h3>
    <p>
        <ul>
            <li><b><i>cat . (root file system)</i> does not work as expected from the MP assignment.</b></li>
            <ul>
                <li>The expected behavior should display a list of files (please check the MP documentation). Please do not follow the wrong behavior.
            </ul>
            <li>A page fault exception may occur when initializing paging during boot up. This only occurs occasionally in the web emulator.</li>
            <li>"Kill the process" function in Process Manager (a custom design, not required) is not compatible with the scheduler.</li>
            <li>The web emulator is not compatible with IDM. Please add os.paizhang.info to the IDM exception list or manually cancel the downloads.</li>
        </ul>
    </p>
</div> -->
<hr>